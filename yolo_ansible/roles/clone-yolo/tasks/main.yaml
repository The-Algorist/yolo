---
  - name: Clone Yolo from GitHub
    git:
      repo: https://github.com/The-Algorist/yolo.git
      dest: /home/ubuntu/
      clone: yes
      update: yes

  - name: Find the path to the docker-compose.yaml file
    set_fact:
      docker_compose_file_path: "{{ lookup('file', '/home/ubuntu/yolo/docker-compose.yaml') }}"

  - name: Initialize Yolo containers
    docker_compose:
      state: present
      project_src: /home/ubuntu/yolo
      compose_files:
        - "{{ docker_compose_file_path }}"
